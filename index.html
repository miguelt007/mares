<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Dados Mar√≠timos</title>
  <style>
    body { font-family: Arial; padding: 20px; background: #e0f7fa; }
    select, button { padding: 8px; margin: 10px 0; }
    #dados { margin-top: 20px; }
  </style>
</head>
<body>
  <h1>üåä Condi√ß√µes Mar√≠timas</h1>

  <label for="local">Escolhe uma praia:</label>
  <select id="local">
    <option value="38.6577,-9.1946">Costa da Caparica</option>
    <option value="39.6022,-9.0726">Peniche</option>
    <option value="39.6028,-9.0700">Nazar√©</option>
  </select>
  <button onclick="buscarDados()">Ver condi√ß√µes</button>

  <div id="dados"></div>

  <script>
    async function buscarDados() {
      const coords = document.getElementById("local").value;
      const [lat, lon] = coords.split(",");
      const url = `https://marine-api.open-meteo.com/v1/marine?latitude=${lat}&longitude=${lon}&hourly=wave_height,water_temperature,wind_speed,wind_direction&timezone=auto`;

      const res = await fetch(url);
      const data = await res.json();

      const horaAtual = new Date().getHours();
      const info = {
        ondas: data.hourly.wave_height[horaAtual],
        tempAgua: data.hourly.water_temperature[horaAtual],
        vento: data.hourly.wind_speed[horaAtual],
        direcaoVento: data.hourly.wind_direction[horaAtual]
      };

      document.getElementById("dados").innerHTML = `
        <h2>üåç Dados para esta hora</h2>
        <p><strong>Altura das ondas:</strong> ${info.ondas} m</p>
        <p><strong>Temperatura da √°gua:</strong> ${info.tempAgua} ¬∞C</p>
        <p><strong>Vento:</strong> ${info.vento} km/h (${info.direcaoVento}¬∞)</p>
      `;
    }
  </script>
</body>
</html>
