<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Dados Mar√≠timos</title>
  <style>
    body { font-family: Arial; padding: 20px; background: #e0f7fa; }
    select, button { padding: 8px; margin: 10px 0; }
    #dados { margin-top: 20px; }
  </style>
</head>
<body>
  <h1>üåä Condi√ß√µes Mar√≠timas</h1>

  <label for="local">Escolhe uma praia:</label>
  <select id="local">
    <option value="38.6577,-9.1946">Costa da Caparica</option>
    <option value="39.6022,-9.0726">Peniche</option>
    <option value="39.6028,-9.0700">Nazar√©</option>
    <option value="37.0179,-7.9333">Praia da Rocha</option>
    <option value="38.5244,-8.8926">Comporta</option>
    <option value="41.1832,-8.6885">Matosinhos</option>
    <option value="38.7000,-9.4167">Praia Grande</option>
    <option value="39.5500,-8.9833">S√£o Martinho do Porto</option>
  </select>
  <button onclick="buscarDados()">Ver condi√ß√µes</button>

  <div id="dados"></div>

  <script>
    async function buscarDados() {
      const coords = document.getElementById("local").value;
      const [lat, lon] = coords.split(",");
      const url = `https://marine-api.open-meteo.com/v1/marine?latitude=${lat}&longitude=${lon}&hourly=wave_height,water_temperature,wind_speed,wind_direction&timezone=auto`;

      try {
        const res = await fetch(url);
        const data = await res.json();

        // Usar o primeiro valor dispon√≠vel do dia
        const info = {
          ondas: data.hourly.wave_height[0],
          tempAgua: data.hourly.water_temperature[0],
          vento: data.hourly.wind_speed[0],
          direcaoVento: data.hourly.wind_direction[0],
          hora: data.hourly.time[0]
        };

        document.getElementById("dados").innerHTML = `
          <h2>üìÖ Dados para ${info.hora}</h2>
          <p><strong>Altura das ondas:</strong> ${info.ondas} m</p>
          <p><strong>Temperatura da √°gua:</strong> ${info.tempAgua} ¬∞C</p>
          <p><strong>Vento:</strong> ${info.vento} km/h (${info.direcaoVento}¬∞)</p>
        `;
      } catch (error) {
        document.getElementById("dados").innerHTML = `<p>‚ùå Erro ao obter dados. Tenta novamente mais tarde.</p>`;
      }
    }
  </script>
</body>
</html>
